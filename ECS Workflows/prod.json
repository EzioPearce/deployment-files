{
    "family": "flam-service-prod",
    "taskRoleArn": "arn:aws:iam::214493502073:role/FlamServicesTaskRole",
    "executionRoleArn": "arn:aws:iam::214493502073:role/FlamServicesTaskRole",
    "networkMode": "bridge",
    "containerDefinitions": [
      {
        "name": "flam-service-prod",
        "image": "${IMAGE}",
        "cpu": 1024,
        "memory": 1024,
        "memoryReservation": 1024,
        "portMappings": [
          {
            "containerPort": 3000,
            "hostPort": 0,
            "protocol": "tcp"
          }
        ],
        "essential": true,
        "environment": [
          {
            "name": "APP_ENVIROMENT",
            "value": "prod"
          },
          {
            "name": "CONTEXT",
            "value": "service"
          },
          {
            "name": "APP_PORT",
            "value": "3000"
          },
          {
            "name": "AWS_REGION",
            "value": "ap-south-1"
          },
          {
            "name": "REGION_NAME",
            "value": "ap-south-1"
          }
        ],
        "secrets": [
          {
            "name": "AWS_ACCESS_KEY_ID",
            "valueFrom": "/conf/service/prod/AWS_ACCESS_KEY_ID"
          },
          {
            "name": "AWS_ACCOUNT_ID",
            "valueFrom": "/conf/service/prod/AWS_ACCOUNT_ID"
          },
          {
            "name": "AWS_SECRET_ACCESS_KEY_ID",
            "valueFrom": "/conf/service/prod/AWS_SECRET_ACCESS_KEY_ID"
          },
          {
            "name": "UMS_AUTH_VERIFY_URL",
            "valueFrom": "/conf/service/prod/UMS_AUTH_VERIFY_URL"
          },
          {
            "name": "REQUEST_SECRET_KEY",
            "valueFrom": "/conf/service/prod/REQUEST_SECRET_KEY"
          },
          {
            "name": "DATABASE_MONGO_URL",
            "valueFrom": "/conf/service/prod/DATABASE_MONGO_URL"
          },
          {
            "name": "FLAM_NETWORK_ACTIVITY_LOG_SQS_STREAM_NAME",
            "valueFrom": "/conf/service/prod/FLAM_NETWORK_ACTIVITY_LOG_SQS_STREAM_NAME"
          },
          {
            "name": "FLAM_NETWORK_FOLLOWER_SQS_STREAM_NAME",
            "valueFrom": "/conf/service/prod/FLAM_NETWORK_FOLLOWER_SQS_STREAM_NAME"
          },
          {
            "name": "FLAM_NETWORK_FRIENDSHIP_SQS_STREAM_NAME",
            "valueFrom": "/conf/service/prod/FLAM_NETWORK_FRIENDSHIP_SQS_STREAM_NAME"
          },
          {
            "name": "FLAM_NETWORK_REQUEST_SQS_STREAM_NAME",
            "valueFrom": "/conf/service/prod/FLAM_NETWORK_REQUEST_SQS_STREAM_NAME"
          },
          {
            "name": "FLAM_NETWORK_SEARCH_SQS_STREAM_NAME",
            "valueFrom": "/conf/service/prod/FLAM_NETWORK_SEARCH_SQS_STREAM_NAME"
          },
          {
            "name": "FLAM_NETWORK_USER_PROFILE_SQS_STREAM_NAME",
            "valueFrom": "/conf/service/prod/FLAM_NETWORK_USER_PROFILE_SQS_STREAM_NAME"
          },
          {
            "name": "FLAM_NETWORK_PROFILE_BATCH_PROFILE_DETAILS_URL",
            "valueFrom": "/conf/service/prod/FLAM_NETWORK_PROFILE_BATCH_PROFILE_DETAILS_URL"
          },
          {
            "name": "FLAM_NETWORK_PROFILE_API_KEY",
            "valueFrom": "/conf/service/prod/FLAM_NETWORK_PROFILE_API_KEY"
          },
          {
            "name": "ASPECTO_AUTH",
            "valueFrom": "/conf/flam-aspecto/prod/ASPECTO_AUTH"
          }
        ],
        "hostname": "flam-service",
        "dockerLabels": {
          "Environment": "prod",
          "Name": "flam-service",
          "Version": "${VERSION}"
        },
        "healthCheck": {
          "command": [
            "CMD-SHELL",
            "curl --fail http://localhost:3000/servicename/health || exit 1"
          ],
          "interval": 5,
          "timeout": 4,
          "retries": 3,
          "startPeriod": 5
        }
      }
    ],
    "requiresCompatibilities": ["EC2"],
    "cpu": "1024",
    "memory": "1024",
    "tags": [
      {
        "key": "GITHUB_BRANCH",
        "value": "${GITHUB_REF}"
      },
      {
        "key": "GITHUB_BUILD_NUMBER",
        "value": "${GITHUB_RUN_NUMBER}"
      },
      {
        "key": "GITHUB_COMMIT",
        "value": "${GITHUB_SHA}"
      },
      {
        "key": "GITHUB_REPO_URL",
        "value": "https://github.com/homingos/service"
      },
      {
        "key": "Version",
        "value": "${VERSION}"
      },
      {
        "key": "Environment",
        "value": "prod"
      },
      {
        "key": "Name",
        "value": "servicename"
      }
    ]
  }